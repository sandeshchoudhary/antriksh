(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[1],{475:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=p(o),l=n(223),i=n(222),u=n(226),c=p(n(489)),s=p(n(488)),f=n(224),d=n(478);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.logout=function(){n.props.logoutUser(),f.history.push("/")},n.renderNav=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.default.createElement(i.Navbar,{bg:"dark",variant:"dark"},a.default.createElement(i.Navbar.Brand,{href:"/"},a.default.createElement("img",{alt:"",src:"/logo.svg",width:"30",height:"30",className:"d-inline-block align-top"})," Antriksh "),a.default.createElement("div",{className:"d-flex justify-content-end",style:{flex:"1"}},a.default.createElement(i.NavDropdown,{title:e.profileObj.name,id:"basic-nav-dropdown"},a.default.createElement(i.NavDropdown.Item,{onClick:function(){return n.logout()}},"Logout"))))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){this.props.isLoggedIn||f.history.push("/")}},{key:"render",value:function(){var e=this.props.userData;return a.default.createElement(i.Container,{fluid:!0,style:{padding:"0px"}},this.renderNav(e),a.default.createElement(u.Switch,null,a.default.createElement(u.Route,{path:"/library/:id",render:function(e){return a.default.createElement(c.default,e)}}),a.default.createElement(u.Route,{path:"/",render:function(e){return a.default.createElement(s.default,e)}})))}}]),t}();t.default=(0,l.connect)(function(e){var t=e.moduleStore,n=void 0===t?{}:t;return{userData:n.userData,isLoggedIn:n.isLoggedIn}},{logoutUser:d.logoutUser})(h)},478:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBookDetail=t.searchBooks=t.logoutUser=t.updateLoginError=t.updateUserDetails=t.loginProcess=void 0;var r=n(480),o=n(225);t.loginProcess=function(){return function(e){e({type:o.LOGIN_PENDING})}},t.updateUserDetails=function(e){return function(t){window.localStorage.setItem("userData",JSON.stringify(e)),t({type:o.LOGIN_SUCCESS,payload:e})}},t.updateLoginError=function(e){return function(t){console.log(e),t({type:o.LOGIN_ERROR,payload:"Not able to login. Please try again"})}},t.logoutUser=function(){return function(e){window.localStorage.clear(),e({type:o.LOGOUT_SUCCESS})}},t.searchBooks=function(e,t){return function(n){n({type:o.FETCH_BOOKS_PENDING}),(0,r.searchBook)(e,t).then(function(r){var a=r.data;n({type:o.FETCH_BOOKS_SUCCESS,payload:{data:"bname"===t?a.docs:[a[e.bibkeys]],type:t}})}).catch(function(e){console.log(e),n({type:o.FETCH_BOOKS_ERROR,payload:"Not able to search books"})})}},t.getBookDetail=function(e,t){return function(n){n({type:o.FETCH_BOOK_DETAIL_PENDING}),(0,r.getBookInfo)(e).then(function(r){var a=r.data;n({type:o.FETCH_BOOK_DETAIL_SUCCESS,payload:{data:a[e.bibkeys],isbn:t}})}).catch(function(e){console.log(e),n({type:o.FETCH_BOOK_DETAIL_ERROR,payload:"Not able to fetch book detail"})})}}},480:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBookInfo=t.searchBook=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(486)),o=function(e){return Object.keys(e).reduce(function(t,n){if(null!==e[n]&&""!==e[n])if(Array.isArray(e[n])){var r=JSON.stringify(e[n]);t.push(n+"="+r)}else t.push(n+"="+e[n]);return t},[]).join("&")};t.searchBook=function(e,t){var n="bname"===t?"http://openlibrary.org/search.json":"https://openlibrary.org/api/books";return n=n+"?"+o(e),r.default.get(n)},t.getBookInfo=function(e){var t="https://openlibrary.org/api/books";return t=t+"?"+o(e),r.default.get(t)}},487:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=n(222),i=n(224),u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderTableBody=function(e,t){return e.map(function(e,n){return a.default.createElement("tr",{key:n,style:{cursor:"pointer"}},a.default.createElement("td",null,n+1),a.default.createElement("td",{onClick:function(){return e.isbn&&i.history.push("/library/"+e.isbn[0])},style:{color:e.isbn?"#0070DD":"gray",fontWeight:"500"}},e.title),"bname"===t&&a.default.createElement("td",null,e.author_name&&e.author_name[0]),"isbn"===t&&a.default.createElement("td",null,e.authors&&e.authors[0].name),"bname"===t&&a.default.createElement("td",null,e.publisher&&e.publisher[0]),"isbn"===t&&a.default.createElement("td",null,e.publishers&&e.publishers[0].name))})},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.booksList,n=void 0===t?[]:t,r=e.type;return a.default.createElement(l.Container,{fluid:!0,style:{maxHeight:"75vh",overflow:"auto"}},a.default.createElement(l.Table,{striped:!0,bordered:!0,hover:!0,responsive:!0},a.default.createElement("thead",null,a.default.createElement("tr",null,a.default.createElement("th",null),a.default.createElement("th",null,"Title"),a.default.createElement("th",null,"Author"),a.default.createElement("th",null,"Publisher"))),a.default.createElement("tbody",null,this.renderTableBody(n,r))))}}]),t}();t.default=u},488:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=s(o),l=n(223),i=n(222),u=n(478),c=s(n(487));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleRadioInput=function(e){n.setState({searchOption:e})},n.handleTextInput=function(e){n.setState({query:e.target.value})},n.handleKeyPress=function(e){"Enter"===e.key&&n.state.query&&n.handleSearch()},n.handleSearch=function(){var e=n.props.searchBooks,t=n.state,r=t.query;"bname"===t.searchOption?e({q:r},"bname"):e({bibkeys:"ISBN:"+r,format:"json",jscmd:"data"},"isbn")},n.renderSearchPanel=function(){var e=n.props.booksLoading;return a.default.createElement("div",{style:{padding:"32px",textAlign:"center"}},a.default.createElement("h4",null,"Explore Books Here"),a.default.createElement("div",null,a.default.createElement("input",{type:"text",onKeyPress:function(e){return n.handleKeyPress(e)},onChange:function(e){return n.handleTextInput(e)},style:{width:"400px",height:"38px",marginBottom:"16px"},placeholder:"Search..."})),!e&&a.default.createElement(i.Button,{onClick:function(){return n.handleSearch()},variant:"primary",disabled:!n.state.query},"Search"),e&&a.default.createElement(i.Button,{variant:"primary",disabled:!0},a.default.createElement(i.Spinner,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"Searching..."),a.default.createElement("div",null,a.default.createElement("input",{type:"radio",name:"searchOption",value:"isbn",checked:"isbn"===n.state.searchOption,onChange:function(){return n.handleRadioInput("isbn")}})," ","ISBN",a.default.createElement("input",{type:"radio",name:"searchOption",value:"bname",checked:"bname"===n.state.searchOption,style:{marginLeft:"16px"},onChange:function(){return n.handleRadioInput("bname")}})," ","Book Name"))},n.state={searchOption:"bname"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.booksList,n=void 0===t?[]:t,r=e.booksLoading,o=e.searched,l=e.booksError,u=e.booksErrorMessage;return a.default.createElement(i.Container,{fluid:!0},this.renderSearchPanel(),!r&&n.length>0&&a.default.createElement(c.default,{booksList:n,type:this.state.searchOption}),!r&&o&&0===n.length&&a.default.createElement("div",{className:"d-flex justify-content-center text-danger"},"No Result Found"),l&&a.default.createElement("div",{className:"d-flex justify-content-center text-danger m-4"},u))}}]),t}();t.default=(0,l.connect)(function(e){var t=e.moduleStore,n=void 0===t?{}:t;return{booksLoading:n.booksLoading,booksList:n.booksList,searched:n.searched,booksError:n.booksError,booksErrorMessage:n.booksErrorMessage}},{searchBooks:u.searchBooks})(f)},489:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=n(223),i=n(478),u=n(222),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderLeftPanel=function(e){return e.cover?a.default.createElement(u.Col,{md:6,className:"bg-light d-flex justify-content-center align-items-center"},a.default.createElement("img",{style:{height:"400px"},src:e.cover&&e.cover.large,alt:"Image not found"})):a.default.createElement(u.Col,{md:6,className:"bg-light d-flex justify-content-center align-items-center"},a.default.createElement("div",{style:{height:"400px",width:"200px",backgroundColor:"#ededed"},className:"d-flex justify-content-center align-items-center border"},"Preview Not Available"))},n.renderRightPanel=function(e){return a.default.createElement(u.Col,{md:6,className:"",style:{padding:"16px"}},a.default.createElement("h4",null,e.title),a.default.createElement("div",{className:"text-info"},e.subtitle),a.default.createElement("div",{style:{marginTop:"16px"}},a.default.createElement("label",{className:"text-muted"},"Author:"),a.default.createElement("span",{style:{marginLeft:"16px"}},e.authors&&e.authors[0].name||"N/A")),a.default.createElement("div",{style:{marginTop:"16px"}},a.default.createElement("label",{className:"text-muted"},"Publisher:"),a.default.createElement("span",{style:{marginLeft:"16px"}},e.publishers&&e.publishers[0].name||"N/A")),a.default.createElement("div",{style:{marginTop:"16px"}},a.default.createElement("label",{className:"text-muted"},"Published Date:"),a.default.createElement("span",{style:{marginLeft:"16px"}},e.publish_date||"N/A")),a.default.createElement("div",{style:{marginTop:"16px"}},a.default.createElement("label",{className:"text-muted"},"Weight:"),a.default.createElement("span",{style:{marginLeft:"16px"}},e.weight||"N/A")),a.default.createElement("div",{style:{marginTop:"16px"}},a.default.createElement("a",{href:e.url,target:"_blank"},"View in OpenLibrary")))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){this.props.getBookDetail({bibkeys:"ISBN:"+this.props.match.params.id,format:"json",jscmd:"data"},this.props.match.params.id)}},{key:"render",value:function(){var e=this.props,t=e.bookDetail,n=void 0===t?{}:t,r=e.bookDetailLoading,o=e.bookDetailError,l=e.bookDetailErrorMessage;return a.default.createElement("div",null,r&&a.default.createElement(u.Container,{fluid:!0,style:{height:"75vh"},className:"bg-light d-flex justify-content-center align-items-center"},a.default.createElement(u.Spinner,{animation:"border",role:"status",style:{height:"48px",width:"48px"}})),!r&&!o&&Object.keys(n).length>0&&a.default.createElement(u.Container,{fluid:!0},a.default.createElement(u.Row,{style:{height:"calc(100vh - 56px)"}},this.renderLeftPanel(n),this.renderRightPanel(n))),o&&a.default.createElement("div",{className:"d-flex justify-content-center text-danger m-4"},l))}}]),t}();t.default=(0,l.connect)(function(e){var t=e.moduleStore,n=void 0===t?{}:t;return{bookDetailLoading:n.bookDetailLoading,bookDetail:n.bookDetail,bookDetailError:n.bookDetailError,bookDetailErrorMessage:n.bookDetailErrorMessage}},{getBookDetail:i.getBookDetail})(c)}}]);