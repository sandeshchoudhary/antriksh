(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[1],{476:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(0),a=d(r),u=n(223),i=n(222),l=n(226),c=n(224),s=n(479),f=d(n(227));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(){return a.default.createElement(i.Container,{fluid:!0,style:{height:"75vh"},className:"bg-light d-flex justify-content-center align-items-center"},a.default.createElement(i.Spinner,{animation:"border",role:"status",style:{height:"48px",width:"48px"}}))},y=(0,f.default)({loader:function(){return n.e(4).then(n.t.bind(null,490,7))},loading:p}),g=(0,f.default)({loader:function(){return n.e(3).then(n.t.bind(null,488,7))},loading:p}),h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.logout=function(){n.props.logoutUser(),c.history.push("/")},n.renderNav=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.default.createElement(i.Navbar,{bg:"dark",variant:"dark"},a.default.createElement(i.Navbar.Brand,{href:"/"}," Antriksh "),a.default.createElement("div",{className:"d-flex justify-content-end",style:{flex:"1"}},a.default.createElement(i.NavDropdown,{title:e&&e.profileObj.name,id:"basic-nav-dropdown"},a.default.createElement(i.NavDropdown.Item,{onClick:function(){return n.logout()}},"Logout"))))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"componentDidMount",value:function(){this.props.isLoggedIn||c.history.push("/")}},{key:"render",value:function(){var e=this.props.userData,t=void 0===e?{}:e;return a.default.createElement(i.Container,{fluid:!0,style:{padding:"0px"}},this.renderNav(t),a.default.createElement(l.Switch,null,a.default.createElement(l.Route,{path:"/library/:id",render:function(e){return a.default.createElement(g,e)}}),a.default.createElement(l.Route,{path:"/",render:function(e){return a.default.createElement(y,e)}})))}}]),t}();t.default=(0,u.connect)(function(e){var t=e.moduleStore,n=void 0===t?{}:t;return{userData:n.userData,isLoggedIn:n.isLoggedIn}},{logoutUser:s.logoutUser})(h)},479:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBookDetail=t.searchBooks=t.logoutUser=t.updateLoginError=t.updateUserDetails=t.loginProcess=void 0;var o=n(481),r=n(225);t.loginProcess=function(){return function(e){e({type:r.LOGIN_PENDING})}},t.updateUserDetails=function(e){return function(t){window.localStorage.setItem("userData",JSON.stringify(e)),t({type:r.LOGIN_SUCCESS,payload:e})}},t.updateLoginError=function(e){return function(t){console.log(e),t({type:r.LOGIN_ERROR,payload:"Not able to login. Please try again"})}},t.logoutUser=function(){return function(e){window.localStorage.clear(),e({type:r.LOGOUT_SUCCESS})}},t.searchBooks=function(e,t){return function(n){n({type:r.FETCH_BOOKS_PENDING}),(0,o.searchBook)(e,t).then(function(o){var a=o.data;n({type:r.FETCH_BOOKS_SUCCESS,payload:{data:"bname"===t?a.docs:[a[e.bibkeys]],type:t}})}).catch(function(e){console.log(e),n({type:r.FETCH_BOOKS_ERROR,payload:"Not able to search books"})})}},t.getBookDetail=function(e,t){return function(n){n({type:r.FETCH_BOOK_DETAIL_PENDING}),(0,o.getBookInfo)(e).then(function(o){var a=o.data;n({type:r.FETCH_BOOK_DETAIL_SUCCESS,payload:{data:a[e.bibkeys],isbn:t}})}).catch(function(e){console.log(e),n({type:r.FETCH_BOOK_DETAIL_ERROR,payload:"Not able to fetch book detail"})})}}},481:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBookInfo=t.searchBook=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(487)),r=function(e){return Object.keys(e).reduce(function(t,n){if(null!==e[n]&&""!==e[n])if(Array.isArray(e[n])){var o=JSON.stringify(e[n]);t.push(n+"="+o)}else t.push(n+"="+e[n]);return t},[]).join("&")};t.searchBook=function(e,t){var n="bname"===t?"http://openlibrary.org/search.json":"https://openlibrary.org/api/books";return n=n+"?"+r(e),o.default.get(n)},t.getBookInfo=function(e){var t="https://openlibrary.org/api/books";return t=t+"?"+r(e),o.default.get(t)}}}]);